#!/usr/bin/env python

import scanner
import optparse

# get command line args
def get_arguments():
    parser = optparse.OptionParser()
    parser.add_option("-u","--url", dest="url", help="URL to scan for vulnerabilities.")
    (options, arguments) = parser.parse_args()
    if not  options.url:
        parser.error("[-] Please specify a url, use --help for more info.")
    return options

# main program
options = get_arguments()
target_url = options.url
# initialize a class object
vuln_scanner = scanner.Scanner(target_url)
print("[+] LINKS [+]")
# crawl the site for links
vuln_scanner.crawl()
print("[+] LINKS [+]\n\n")
print("[+] Testing for vulnerabilities [+]")
# check for vulnerabilities
vuln_scanner.run_scanner()
print("\n\n[+] Finished! [+]")
